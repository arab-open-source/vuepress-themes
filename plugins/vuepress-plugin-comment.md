---
archive_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/{archive_format}{/ref}
archived: false
assignees_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/assignees{/user}
blobs_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/git/blobs{/sha}
branches_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/branches{/branch}
clone_url: https://github.com/dongyuanxin/vuepress-plugin-comment.git
collaborators_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/collaborators{/collaborator}
comments_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/comments{/number}
commits_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/commits{/sha}
compare_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/compare/{base}...{head}
contents_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/contents/{+path}
contributors_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/contributors
created_at: '2019-06-08T05:48:05Z'
default_branch: master
deployments_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/deployments
description: Comment plugin in vuepress, such as Gitalk, Valine...
disabled: false
downloads_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/downloads
events_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/events
fork: false
forks: 8
forks_count: 8
forks_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/forks
full_name: dongyuanxin/vuepress-plugin-comment
git_commits_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/git/commits{/sha}
git_refs_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/git/refs{/sha}
git_tags_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/git/tags{/sha}
git_url: git://github.com/dongyuanxin/vuepress-plugin-comment.git
has_downloads: true
has_issues: true
has_pages: false
has_projects: true
has_wiki: true
homepage: https://xin-tan.com
hooks_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/hooks
html_url: https://github.com/dongyuanxin/vuepress-plugin-comment
id: 190850610
issue_comment_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/issues/comments{/number}
issue_events_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/issues/events{/number}
issues_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/issues{/number}
keys_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/keys{/key_id}
labels_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/labels{/name}
language: JavaScript
languages_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/languages
license: null
merges_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/merges
milestones_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/milestones{/number}
mirror_url: null
name: vuepress-plugin-comment
network_count: 8
node_id: MDEwOlJlcG9zaXRvcnkxOTA4NTA2MTA=
notifications_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/notifications{?since,all,participating}
open_issues: 3
open_issues_count: 3
owner:
  avatar_url: https://avatars2.githubusercontent.com/u/26399528?v=4
  events_url: https://api.github.com/users/dongyuanxin/events{/privacy}
  followers_url: https://api.github.com/users/dongyuanxin/followers
  following_url: https://api.github.com/users/dongyuanxin/following{/other_user}
  gists_url: https://api.github.com/users/dongyuanxin/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/dongyuanxin
  id: 26399528
  login: dongyuanxin
  node_id: MDQ6VXNlcjI2Mzk5NTI4
  organizations_url: https://api.github.com/users/dongyuanxin/orgs
  received_events_url: https://api.github.com/users/dongyuanxin/received_events
  repos_url: https://api.github.com/users/dongyuanxin/repos
  site_admin: false
  starred_url: https://api.github.com/users/dongyuanxin/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/dongyuanxin/subscriptions
  type: User
  url: https://api.github.com/users/dongyuanxin
permissions:
  admin: false
  pull: true
  push: false
private: false
pulls_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/pulls{/number}
pushed_at: '2020-05-13T07:56:41Z'
releases_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/releases{/id}
size: 26
ssh_url: git@github.com:dongyuanxin/vuepress-plugin-comment.git
stargazers_count: 18
stargazers_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/stargazers
statuses_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/statuses/{sha}
subscribers_count: 1
subscribers_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/subscribers
subscription_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/subscription
svn_url: https://github.com/dongyuanxin/vuepress-plugin-comment
tags_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/tags
teams_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/teams
temp_clone_token: ''
trees_url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment/git/trees{/sha}
updated_at: '2020-05-24T20:19:19Z'
url: https://api.github.com/repos/dongyuanxin/vuepress-plugin-comment
watchers: 18
watchers_count: 18
---

# Vuepress-comment-plugin

[![](https://img.shields.io/badge/online-preview-faad14.svg?style=popout-square)](https://xin-tan.com/)
[![](https://img.shields.io/npm/dm/vuepress-plugin-comment.svg?style=flat-square)](https://www.npmjs.com/package/vuepress-plugin-comment)
[![](https://img.shields.io/badge/vuepress-≥v0.9.0-3eaf7c.svg?style=popout-square)](https://vuepress.vuejs.org/)
![](https://img.shields.io/badge/license-MIT-blue.svg?style=popout-square)
![version](https://img.shields.io/github/release/dongyuanxin/vuepress-plugin-comment.svg?style=flat-square)


> Support popluar comment plugins in Vuepress, sucn as Gitalk, Valine, Disqus.

- [Features](#features)
- [Usage](#usage)
  - [Install](#install)
  - [⚠️Route object properties](#⚠️Route-object-properties)
  - [Use with Gitalk](#use-in-gitalk)
  - [Use with Valine](#use-in-valine)
  - [Hide comment](#how-to-hide-page-comment)
- [Options detail](#options-detail)
- [Todo](#todo)

## Features

- Support Gitalk, Valine
- Dynamic Import
- Response router change and refresh automatic
- User can use passage's `$frontmatter`

## Usage

### Install

With `npm`:

```bash
npm install --save vuepress-plugin-comment
```

With `yarn`:

```bash
yarn add vuepress-plugin-comment -D
```

With `cnpm`:

```bash
cnpm i --save vuepress-plugin-comment
```


### ⚠️Route object properties

**Don't use `window` object directly to get route information**.

Plugin has registered correct route information in `frontmatter.to` object and `frontmatter.from` object. Their properties are the same as [vue-router's route object](https://router.vuejs.org/api/#route-object-properties).

### Use in Gitalk

The `options` is exactly the same as `Gitalk` configuration.

```javascript
module.exports = {
  plugins: [
    [
      'vuepress-plugin-comment',
      {
        choosen: 'gitalk', 
        options: {
          clientID: 'GitHub Application Client ID',
          clientSecret: 'GitHub Application Client Secret',
          repo: 'GitHub repo',
          owner: 'GitHub repo owner',
          admin: ['GitHub repo owner and collaborators, only these guys can initialize github issues'],
          distractionFreeMode: false 
        }
      }
    ]
  ]
}
```

If you want to access variables, such as `$frontmatter` and `window`, please use **EJS** syntax.

```javascript
module.exports = {
  plugins: [
    [
      'vuepress-plugin-comment',
      {
        choosen: 'gitalk', 
        options: {
          id: '<%- frontmatter.commentid || frontmatter.permalink %>',
          title: '「Comment」<%- frontmatter.title %>',
          body: '<%- frontmatter.title %>：<%-window.location.origin %><%- frontmatter.to.path || window.location.pathname %>',
          clientID: 'GitHub Application Client ID',
          clientSecret: 'GitHub Application Client Secret',
          repo: 'GitHub repo',
          owner: 'GitHub repo owner',
          admin: ['GitHub repo owner and collaborators, only these guys can initialize github issues'],
          distractionFreeMode: false,
        }
      }
    ]
  ]
}
```

**Note**: Never use callback function in plugin configuration, that will be filtered by vuepress. So I have to support EJS syntax.

### Use in Valine

The `options` is exactly the same as `Valine` configuration.

```javascript
module.exports = {
  plugins: [
    [
      'vuepress-plugin-comment',
      {
        choosen: 'valine', 
        options: {
          el: '#valine-vuepress-comment',
          appId: 'Your own appId',
          appKey: 'Your own appKey'
        }
      }
    ]
  ]
}
```

If you want to access variables, such as `$frontmatter` and `window`, please use **EJS** syntax.

```javascript
module.exports = {
  plugins: [
    [
      'vuepress-plugin-comment',
      {
        choosen: 'valine', 
        options: {
          el: '#valine-vuepress-comment',
          appId: 'Your own appId',
          appKey: 'Your own appKey',
          path: '<%- frontmatter.commentid || frontmatter.permalink %>'
        }
      }
    ]
  ]
}
```

### How to hide page comment

If you want to hide comment plugin in specified page, set `$frontmatter.comment` or `$frontmatter.comments` to `false`.

For example:

```yml
---
comment: false 
# comments: false 
---
```

Comment won't appear in the page of this passage. 

## Options Detail

- **choosen** `string`

  **Required**.

- **options** `object`

  **Required**. The options of choosen comment plugin.

- **container** `string`

  **Optional, default as `'main.page'`**. The dom selector that contains choosen comment plugin.

## Todo

- Support Disqus
- 中文说明
