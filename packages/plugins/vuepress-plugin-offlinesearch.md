---
archive_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/{archive_format}{/ref}
archived: false
assignees_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/assignees{/user}
blobs_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/git/blobs{/sha}
branches_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/branches{/branch}
clone_url: https://github.com/grimoh/vuepress-plugin-offlinesearch.git
collaborators_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/collaborators{/collaborator}
comments_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/comments{/number}
commits_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/commits{/sha}
compare_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/compare/{base}...{head}
contents_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/contents/{+path}
contributors_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/contributors
created_at: '2020-08-23T13:56:58Z'
default_branch: master
deployments_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/deployments
description: fork https://gitlab.com/datev/vuepress-plugin-offlinesearch
disabled: false
downloads_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/downloads
events_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/events
fork: false
forks: 0
forks_count: 0
forks_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/forks
full_name: grimoh/vuepress-plugin-offlinesearch
git_commits_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/git/commits{/sha}
git_refs_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/git/refs{/sha}
git_tags_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/git/tags{/sha}
git_url: git://github.com/grimoh/vuepress-plugin-offlinesearch.git
has_downloads: true
has_issues: true
has_pages: false
has_projects: true
has_wiki: true
homepage: ''
hooks_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/hooks
html_url: https://github.com/grimoh/vuepress-plugin-offlinesearch
id: 289696658
issue_comment_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/issues/comments{/number}
issue_events_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/issues/events{/number}
issues_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/issues{/number}
keys_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/keys{/key_id}
labels_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/labels{/name}
language: Vue
languages_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/languages
license:
  key: mit
  name: MIT License
  node_id: MDc6TGljZW5zZTEz
  spdx_id: MIT
  url: https://api.github.com/licenses/mit
merges_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/merges
milestones_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/milestones{/number}
mirror_url: null
name: vuepress-plugin-offlinesearch
network_count: 0
node_id: MDEwOlJlcG9zaXRvcnkyODk2OTY2NTg=
notifications_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/notifications{?since,all,participating}
open_issues: 0
open_issues_count: 0
owner:
  avatar_url: https://avatars.githubusercontent.com/u/16541988?v=4
  events_url: https://api.github.com/users/grimoh/events{/privacy}
  followers_url: https://api.github.com/users/grimoh/followers
  following_url: https://api.github.com/users/grimoh/following{/other_user}
  gists_url: https://api.github.com/users/grimoh/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/grimoh
  id: 16541988
  login: grimoh
  node_id: MDQ6VXNlcjE2NTQxOTg4
  organizations_url: https://api.github.com/users/grimoh/orgs
  received_events_url: https://api.github.com/users/grimoh/received_events
  repos_url: https://api.github.com/users/grimoh/repos
  site_admin: false
  starred_url: https://api.github.com/users/grimoh/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/grimoh/subscriptions
  type: User
  url: https://api.github.com/users/grimoh
permissions:
  admin: false
  pull: true
  push: false
private: false
pulls_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/pulls{/number}
pushed_at: '2020-08-23T15:16:03Z'
releases_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/releases{/id}
size: 30
ssh_url: git@github.com:grimoh/vuepress-plugin-offlinesearch.git
stargazers_count: 0
stargazers_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/stargazers
statuses_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/statuses/{sha}
subscribers_count: 1
subscribers_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/subscribers
subscription_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/subscription
svn_url: https://github.com/grimoh/vuepress-plugin-offlinesearch
tags_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/tags
teams_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/teams
temp_clone_token: ''
trees_url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch/git/trees{/sha}
updated_at: '2020-08-23T15:16:05Z'
url: https://api.github.com/repos/grimoh/vuepress-plugin-offlinesearch
watchers: 0
watchers_count: 0
---

# Vuepress-plugin-offlinesearch
The search is based on the [official vuepress search plugin](https://vuepress.vuejs.org/plugin/official/plugin-search.html).
But instead of just indexing headers, it leverages [lunrjs](https://lunrjs.com/) to enable a (simplistic) full-text search.
Although the [Algolia](https://vuepress.vuejs.org/theme/default-theme-config.html#algolia-docsearch) search is great, it may not be an option for teams sitting behind a corporate firewall.

For each search result, the page title and the title of the section, where the text was found, are displayed. The links take you right to that section.

## Demo
We created a sample project that showcases the search. Check it out here: https://datev.gitlab.io/vuepress-plugin-offlinesearch-example/

## Usage

* Add the plugin as dependency:  

``` sh
npm i @datev/vuepress-plugin-offlinesearch
```

* Add the plugin to `.vuepress/config.js`

``` javascript
    ,
    plugins: [
        ['@datev/vuepress-plugin-offlinesearch', {searchMaxSuggestions: 7, documents: require('../.vuepress/public/documents.json')}]
    ],
```

### Options
####  `searchMaxSuggestions` 
Defines the maximum number of search results displayed.
* Type: `number`
* Default: 5
Disclaimer: taken form [here](https://vuepress.vuejs.org/plugin/official/plugin-search.html#searchmaxsuggestions)

#### `searchHotkeys`
* Configure the hotkeys which when pressed will focus the search box. Set to an empty array to disable this feature.
* Type: `Array<string>`
* Default: ['s', '/']`
Disclaimer: taken form [here](https://vuepress.vuejs.org/plugin/official/plugin-search.html#searchhotkeys)

#### `activateStemming`
* Activates lunr's stemming feature. In our experience, the search works better when this option is disabled.
Please refer to the [official docs](https://lunrjs.com/guides/core_concepts.html#stemming) for more information on stemming.
* Type: `boolean`
* Default: `false`

#### `documents`
* Path to your documents file, e.g. `'../.vuepress/public/documents.json'`. Note that the file needs to be [deployed as an asset](https://v1.vuepress.vuejs.org/guide/assets.html).
* Type: `string`
* required

The plugin requires the following json structure to build its index. The json can be either generated
by your own generator, by hand or by using our [npm-cli tool](https://gitlab.com/datev/vuepress-documents-parser-cli) 

If you choose to use the vuepress-documents-parser-cli, generating the documents.json file is as simple as
installing the package with 
``` sh
npm i @datev/vuepress-offlinesearch-parse-cli
```

and executing the command `generate-documents` from your command line.

If you choose to build your own documents.json file, please comply with following json structure:

```json
[
  {
    "pageTitle": "exampleTitle",
    "sectionHeader": "ExampleHeader",
    "sectionSlug": "/exampleSite.html#exampleSection",
    "sectionContent": "This is example Content"
  }
]
```

Note that the sectionHeader and sectionContent are the field that will later be used to match search queries.

After these steps the search for your vuepress Site should be set up and ready to go.  

## Contributing 

Contributions are welcome !

 
If you want to contribute or have a question please just open a new Issue.





