---
archive_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/{archive_format}{/ref}
archived: false
assignees_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/assignees{/user}
blobs_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/git/blobs{/sha}
branches_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/branches{/branch}
clone_url: https://github.com/nonebot/vuepress-plugin-versioning.git
collaborators_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/collaborators{/collaborator}
comments_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/comments{/number}
commits_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/commits{/sha}
compare_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/compare/{base}...{head}
contents_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/contents/{+path}
contributors_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/contributors
created_at: '2020-10-12T13:20:32Z'
default_branch: main
deployments_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/deployments
description: null
disabled: false
downloads_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/downloads
events_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/events
fork: false
forks: 0
forks_count: 0
forks_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/forks
full_name: nonebot/vuepress-plugin-versioning
git_commits_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/git/commits{/sha}
git_refs_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/git/refs{/sha}
git_tags_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/git/tags{/sha}
git_url: git://github.com/nonebot/vuepress-plugin-versioning.git
has_downloads: true
has_issues: true
has_pages: false
has_projects: true
has_wiki: true
homepage: null
hooks_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/hooks
html_url: https://github.com/nonebot/vuepress-plugin-versioning
id: 303398651
issue_comment_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/issues/comments{/number}
issue_events_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/issues/events{/number}
issues_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/issues{/number}
keys_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/keys{/key_id}
labels_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/labels{/name}
language: JavaScript
languages_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/languages
license:
  key: apache-2.0
  name: Apache License 2.0
  node_id: MDc6TGljZW5zZTI=
  spdx_id: Apache-2.0
  url: https://api.github.com/licenses/apache-2.0
merges_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/merges
milestones_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/milestones{/number}
mirror_url: null
name: vuepress-plugin-versioning
network_count: 0
node_id: MDEwOlJlcG9zaXRvcnkzMDMzOTg2NTE=
notifications_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/notifications{?since,all,participating}
open_issues: 0
open_issues_count: 0
organization:
  avatar_url: https://avatars.githubusercontent.com/u/63496654?v=4
  events_url: https://api.github.com/users/nonebot/events{/privacy}
  followers_url: https://api.github.com/users/nonebot/followers
  following_url: https://api.github.com/users/nonebot/following{/other_user}
  gists_url: https://api.github.com/users/nonebot/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/nonebot
  id: 63496654
  login: nonebot
  node_id: MDEyOk9yZ2FuaXphdGlvbjYzNDk2NjU0
  organizations_url: https://api.github.com/users/nonebot/orgs
  received_events_url: https://api.github.com/users/nonebot/received_events
  repos_url: https://api.github.com/users/nonebot/repos
  site_admin: false
  starred_url: https://api.github.com/users/nonebot/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/nonebot/subscriptions
  type: Organization
  url: https://api.github.com/users/nonebot
owner:
  avatar_url: https://avatars.githubusercontent.com/u/63496654?v=4
  events_url: https://api.github.com/users/nonebot/events{/privacy}
  followers_url: https://api.github.com/users/nonebot/followers
  following_url: https://api.github.com/users/nonebot/following{/other_user}
  gists_url: https://api.github.com/users/nonebot/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/nonebot
  id: 63496654
  login: nonebot
  node_id: MDEyOk9yZ2FuaXphdGlvbjYzNDk2NjU0
  organizations_url: https://api.github.com/users/nonebot/orgs
  received_events_url: https://api.github.com/users/nonebot/received_events
  repos_url: https://api.github.com/users/nonebot/repos
  site_admin: false
  starred_url: https://api.github.com/users/nonebot/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/nonebot/subscriptions
  type: Organization
  url: https://api.github.com/users/nonebot
permissions:
  admin: false
  pull: true
  push: false
private: false
pulls_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/pulls{/number}
pushed_at: '2020-10-17T06:43:08Z'
releases_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/releases{/id}
size: 124
ssh_url: git@github.com:nonebot/vuepress-plugin-versioning.git
stargazers_count: 0
stargazers_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/stargazers
statuses_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/statuses/{sha}
subscribers_count: 1
subscribers_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/subscribers
subscription_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/subscription
svn_url: https://github.com/nonebot/vuepress-plugin-versioning
tags_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/tags
teams_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/teams
temp_clone_token: ''
trees_url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning/git/trees{/sha}
updated_at: '2020-10-17T06:43:10Z'
url: https://api.github.com/repos/nonebot/vuepress-plugin-versioning
watchers: 0
watchers_count: 0
---

# vuepres-plugin-versioning

Versioning plugin for VuePress

Inspired by <https://github.com/appcelerator/docs-devkit/>

## Usage

Install the plugin

```bash
npm i -D git+https://github.com/nonebot/vuepress-plugin-versioning
```

and enable it in your .vuepress/config.js

```js
module.exports = {
  plugins: ["versioning"],
};
```

Config plugin

```js
const path = require("path");
const fs = require("fs-extra");

module.exports = (context) => ({
  plugins: [
    [
      "versioning",
      {
        // Dir to store achieved version docs
        versionedSourceDir: path.resolve(context.sourceDir, "..", "archive"),
        // Dir to store extra pages that not within versioning
        pagesSourceDir: path.resolve(context.sourceDir, "..", "pages"),
        async onNewVersion(
          version /*version str*/,
          versionDestPath /*version dir*/
        ) {
          // Copy extra files on achieve
          return fs.copy(
            context.sourceDir,
            "api.json",
            path.join(versionDestPath, "api.json")
          );
        },
      },
    ],
  ],
});
```

## Routing

Once you have created your first version, the plugin will change the default routing to the latest achieved version. Docs in the vuepress source directory will be considered as part of the version `next` and they are available under the URL `/next/`. All other versions will be available under their respective version number like `/1.0.0/`.

## Access Version Data

The plugin will automatically store the version information in the page metadata. You can access it in components via `this.$page.version`. To get a list of all versions that are currently available you can use `this.$versions`
